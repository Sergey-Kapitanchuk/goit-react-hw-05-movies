{"version":3,"file":"static/js/481.c768b67d.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/Pages/Movies/MoviesInput.module.css?2ce4","Pages/Movies/Movies.jsx","Services/Api.jsx","webpack://react-homework-template/./src/components/MoviesList/MoviesItem.module.css?7f64","components/MoviesList/MoviesItem.jsx","webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MoviesInput_form__FgBnE\",\"input\":\"MoviesInput_input__myGjt\",\"button\":\"MoviesInput_button__9dsNd\"};","import { useState, useEffect } from 'react';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport MoviesList from 'components/MoviesList/MoviesList'\r\nimport Loader from 'components/Loader/Loader';\r\nimport { Api } from 'Services/Api';\r\nimport CSS from './MoviesInput.module.css';\r\nconst api = new Api();\r\n\r\nconst Movies = () => {\r\n    const [list, setList] = useState([]);\r\n    const [loader, setLoader] = useState(false);\r\n    const [searchParams, setSearchParams] = useSearchParams();\r\n    const searchQuery = searchParams.get('query');\r\n\r\n    useEffect(() => {\r\n        if (!searchQuery) {\r\n            return;\r\n        }\r\n        setLoader(true);\r\n        try {\r\n            api.fetchMovies(searchQuery).then(data => {\r\n                data.map(e => {\r\n                    e.poster_path\r\n                        && (e.poster_path = `https://www.themoviedb.org/t/p/w440_and_h660_face${e.poster_path}`)\r\n                    return e;\r\n                })\r\n                setList(data);\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n        setLoader(false);\r\n    }, [searchQuery])\r\n\r\n    const showMovies = e => {\r\n        e.preventDefault();\r\n        const searchValue = e.target.elements.searchQuery.value.trim();\r\n\r\n        if (searchValue) {\r\n            setSearchParams({ query: e.target.elements.searchQuery.value.trim() });\r\n            e.target.reset();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form onSubmit={showMovies} className={CSS.form}>\r\n                <input\r\n                    placeholder=\"Search movies\"\r\n                    type=\"text\"\r\n                    name=\"searchQuery\"\r\n                    autoComplete=\"off\"\r\n                    className={CSS.input}\r\n                />\r\n                <button type=\"submit\" className={CSS.button}>Search</button>\r\n            </form>\r\n\r\n            {loader\r\n                ? <Loader />\r\n                : (list.length === 0 ? <title>No movies yet...</title> : <MoviesList movies={list} />)}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Movies;","import axios from \"axios\";\r\n\r\nexport class Api {\r\n    BASE_URL = `https://api.themoviedb.org/3/`;\r\n    API_KEY = '56ed7f4027b248926961d2ef400ff8bc';\r\n\r\n    async fetchTrending() {\r\n        const response = await axios.get(`${this.BASE_URL}trending/movie/day?api_key=${this.API_KEY}`);\r\n        return response.data.results;\r\n    };\r\n\r\n    async fetchDetails(id) {\r\n        const response = await axios.get(`${this.BASE_URL}movie/${id}?api_key=${this.API_KEY}`);\r\n        return response.data;\r\n    }\r\n\r\n    async fetchCast(id) {\r\n        const response = await axios.get(`${this.BASE_URL}movie/${id}/credits?api_key=${this.API_KEY}`);\r\n        return response.data.cast;\r\n    };\r\n\r\n    async fetchReviews(id) {\r\n        const response = await axios.get(`${this.BASE_URL}movie/${id}/reviews?api_key=${this.API_KEY}`);\r\n        return response.data.results;\r\n    };\r\n\r\n    async fetchMovies(searchQuery) {\r\n        const response = await axios.get(`${this.BASE_URL}search/movie?api_key=${this.API_KEY}&query=${searchQuery}`);\r\n        return response.data.results;\r\n    };\r\n};  ","// extracted by mini-css-extract-plugin\nexport default {};","import { useNavigate, useLocation } from 'react-router-dom';\r\nimport CSS from './MoviesItem.module.css';\r\n\r\nconst MoviesItem = ({ movie }) => {\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n\r\n    const onItemClick = (id) => {\r\n        navigate(`/movies/${id}`, { state: { from: location } })\r\n    };\r\n\r\n    return (\r\n        <li className={CSS.moviesItem} onClick={() => onItemClick(movie.id)}>\r\n            <img src={movie.poster_path} alt=\"movie poster\" />\r\n            <h4>{movie.title}</h4>\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default MoviesItem;","// extracted by mini-css-extract-plugin\nexport default {};","import MoviesItem from './MoviesItem';\r\nimport CSS from './MoviesList.module.css';\r\n\r\nconst MoviesList = ({ movies }) => {\r\n    return (\r\n        <ul className={CSS.moviesList}>\r\n            {movies.map(movie => {\r\n                return (<MoviesItem key={movie.id} movie={movie} />)\r\n            })}\r\n        </ul>\r\n    )\r\n};\r\n\r\nexport default MoviesList;"],"names":["api","Api","useState","list","setList","loader","setLoader","useSearchParams","searchParams","setSearchParams","searchQuery","get","useEffect","fetchMovies","then","data","map","e","poster_path","error","console","log","onSubmit","preventDefault","target","elements","value","trim","query","reset","className","CSS","placeholder","type","name","autoComplete","Loader","length","MoviesList","movies","BASE_URL","API_KEY","axios","this","response","results","id","cast","movie","navigate","useNavigate","location","useLocation","onClick","state","from","src","alt","title"],"sourceRoot":""}