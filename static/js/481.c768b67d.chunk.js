"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[481],{4481:function(t,e,n){n.r(e),n.d(e,{default:function(){return l}});var r=n(885),a=n(2791),s=n(501),c=n(9090),i=n(8401),u=n(3010),o="MoviesInput_form__FgBnE",h="MoviesInput_input__myGjt",f="MoviesInput_button__9dsNd",p=n(184),v=new u.V,l=function(){var t=(0,a.useState)([]),e=(0,r.Z)(t,2),n=e[0],u=e[1],l=(0,a.useState)(!1),m=(0,r.Z)(l,2),_=m[0],d=m[1],y=(0,s.lr)(),x=(0,r.Z)(y,2),k=x[0],w=x[1],g=k.get("query");(0,a.useEffect)((function(){if(g){d(!0);try{v.fetchMovies(g).then((function(t){t.map((function(t){return t.poster_path&&(t.poster_path="https://www.themoviedb.org/t/p/w440_and_h660_face".concat(t.poster_path)),t})),u(t)}))}catch(t){console.log(t)}d(!1)}}),[g]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("form",{onSubmit:function(t){t.preventDefault(),t.target.elements.searchQuery.value.trim()&&(w({query:t.target.elements.searchQuery.value.trim()}),t.target.reset())},className:o,children:[(0,p.jsx)("input",{placeholder:"Search movies",type:"text",name:"searchQuery",autoComplete:"off",className:h}),(0,p.jsx)("button",{type:"submit",className:f,children:"Search"})]}),_?(0,p.jsx)(i.Z,{}):0===n.length?(0,p.jsx)("title",{children:"No movies yet..."}):(0,p.jsx)(c.Z,{movies:n})]})}},3010:function(t,e,n){n.d(e,{V:function(){return h}});var r=n(5861),a=n(5671),s=n(3144),c=n(7757),i=n.n(c),u=n(4569),o=n.n(u),h=function(){function t(){(0,a.Z)(this,t),this.BASE_URL="https://api.themoviedb.org/3/",this.API_KEY="56ed7f4027b248926961d2ef400ff8bc"}return(0,s.Z)(t,[{key:"fetchTrending",value:function(){var t=(0,r.Z)(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o().get("".concat(this.BASE_URL,"trending/movie/day?api_key=").concat(this.API_KEY));case 2:return e=t.sent,t.abrupt("return",e.data.results);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchDetails",value:function(){var t=(0,r.Z)(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o().get("".concat(this.BASE_URL,"movie/").concat(e,"?api_key=").concat(this.API_KEY));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"fetchCast",value:function(){var t=(0,r.Z)(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o().get("".concat(this.BASE_URL,"movie/").concat(e,"/credits?api_key=").concat(this.API_KEY));case 2:return n=t.sent,t.abrupt("return",n.data.cast);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"fetchReviews",value:function(){var t=(0,r.Z)(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o().get("".concat(this.BASE_URL,"movie/").concat(e,"/reviews?api_key=").concat(this.API_KEY));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"fetchMovies",value:function(){var t=(0,r.Z)(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o().get("".concat(this.BASE_URL,"search/movie?api_key=").concat(this.API_KEY,"&query=").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}()},9090:function(t,e,n){n.d(e,{Z:function(){return u}});var r=n(6871),a={},s=n(184),c=function(t){var e=t.movie,n=(0,r.s0)(),c=(0,r.TH)();return(0,s.jsxs)("li",{className:a.moviesItem,onClick:function(){return t=e.id,void n("/movies/".concat(t),{state:{from:c}});var t},children:[(0,s.jsx)("img",{src:e.poster_path,alt:"movie poster"}),(0,s.jsx)("h4",{children:e.title})]})},i={},u=function(t){var e=t.movies;return(0,s.jsx)("ul",{className:i.moviesList,children:e.map((function(t){return(0,s.jsx)(c,{movie:t},t.id)}))})}}}]);
//# sourceMappingURL=481.c768b67d.chunk.js.map